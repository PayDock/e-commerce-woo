(()=>{"use strict";const e=window.React,t=window.wp.i18n,a=window.wc.wcBlocksRegistry,n=window.wp.htmlEntities,s=(0,window.wc.wcSettings.getSetting)("paydock_apms_data",{}),o="pay_dock",l={defaultLabel:(0,t.__)("Paydock Payments",o),placeOrderButtonLabel:(0,t.__)("Place Order by Paydock",o),validationError:(0,t.__)("Please fill required fields of the form to display payment methods",o),availableAfterpay:(0,t.__)("Payment method Afterpay is not avalaible for your country!!!",o),availableZippay:(0,t.__)("Payment method Zippay is not avalaible for your country!!!",o)},p=(0,n.decodeEntities)(s.title)||l.defaultLabel,i=t=>{const{eventRegistration:a,emitResponse:o}=t,{onPaymentSetup:p,onCheckoutValidation:i}=a;return(0,e.useEffect)((()=>{const e=p((async()=>{const e=document.querySelector('input[name="payment_source_apm_token"]');if(null!==e){if(s.paymentSourceToken=e.value,s.paymentSourceToken.length>0||s.selectedToken.length>0){const e={...s};return e.customers="",e.styles="",e.supports="",{type:o.responseTypes.SUCCESS,meta:{paymentMethodData:e}}}return{type:o.responseTypes.ERROR,message:l.fillDataError}}}));return()=>{e()}}),[o.responseTypes.ERROR,o.responseTypes.SUCCESS,p,i]),(0,e.createElement)("div",null,(0,e.createElement)("div",null,(0,n.decodeEntities)(s.description||"")),(0,e.createElement)("div",{class:"logo-comm-bank"},(0,e.createElement)("img",{src:"/wp-content/plugins/paydock/assets/images/logo.png"})),(0,e.createElement)("div",{id:"paydockWidgetApm",class:"paydock-widget-content",style:{display:"none","text-align":"center"}},(0,e.createElement)("button",{type:"button",src:"/wp-content/plugins/paydock/assets/images/zip_money.png",id:"zippay",class:"btn-apm btn-apm-zippay",style:{display:"none"}},(0,e.createElement)("img",{src:"/wp-content/plugins/paydock/assets/images/zip_money.png"})),(0,e.createElement)("button",{type:"button",src:"/wp-content/plugins/paydock/assets/images/zip_money.png",id:"afterpay",class:"btn-apm btn-apm-afterpay",style:{display:"none"}},(0,e.createElement)("img",{src:"/wp-content/plugins/paydock/assets/images/afterpay_icon.png"}))),(0,e.createElement)("div",{class:"paydock-validation-error"},l.validationError),(0,e.createElement)("input",{type:"hidden",name:"payment_source_apm_token"}),(0,e.createElement)("div",{class:"paydock-country-available-afterpay",style:{display:"none"}},l.availableAfterpay),(0,e.createElement)("div",{class:"paydock-country-available-zippay",style:{display:"none"}},l.availableZippay))},r={name:"paydock_apms_gateway",label:(0,e.createElement)((t=>{const{PaymentMethodLabel:a}=t.components;return(0,e.createElement)(a,{text:p})}),null),content:(0,e.createElement)(i,null),edit:(0,e.createElement)(i,null),placeOrderButtonLabel:l.placeOrderButtonLabel,canMakePayment:()=>!0,ariaLabel:p,supports:{features:s.supports}};(0,a.registerPaymentMethod)(r)})();